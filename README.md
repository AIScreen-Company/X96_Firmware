# üì¶ UpdateActivity (Android)

–ö–ª–∞—Å—Å **UpdateActivity** –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –∏ —É—Å—Ç–∞–Ω–æ–≤–∫—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –ø—Ä–æ—à–∏–≤–∫–∏ —Å GitHub –Ω–∞ Android-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ.

---

## üîß –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

| –î–∞–Ω–Ω—ã–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `versionUrl` | –°—Å—ã–ª–∫–∞ –Ω–∞ JSON —Å –≤–µ—Ä—Å–∏–µ–π –ø—Ä–æ—à–∏–≤–∫–∏ –Ω–∞ GitHub |
| `archiveUrl` | –°—Å—ã–ª–∫–∞ –Ω–∞ ZIP-–∞—Ä—Ö–∏–≤ –ø—Ä–æ—à–∏–≤–∫–∏ |
| `localVersionPath` | –ü—É—Ç—å –∫ –ª–æ–∫–∞–ª—å–Ω–æ–º—É —Ñ–∞–π–ª—É `version.json` |
| `GITHUB_TOKEN` | –¢–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ GitHub (–¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∑–∞–∫—Ä—ã—Ç—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤) |

---

## ‚öôÔ∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**  
   UI –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è, —ç–∫—Ä–∞–Ω –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –æ—Ç –∫–∞—Å–∞–Ω–∏–π.

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π**  
   - –°—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è –≤–µ—Ä—Å–∏–∏: —É–¥–∞–ª—ë–Ω–Ω–∞—è (–∏–∑ GitHub) –∏ –ª–æ–∫–∞–ª—å–Ω–∞—è (–∏–∑ `/system/etc/version.json`).
   - –ï—Å–ª–∏ –≤–µ—Ä—Å–∏–∏ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è ‚Äî —Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è –∏ —Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç—Å—è –∞—Ä—Ö–∏–≤.

3. **–ó–∞–≥—Ä—É–∑–∫–∞ –∞—Ä—Ö–∏–≤–∞**  
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `OkHttpClient` —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π.
   - ZIP-—Ñ–∞–π–ª —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥.

4. **–†–∞—Å–ø–∞–∫–æ–≤–∫–∞ –∞—Ä—Ö–∏–≤–∞**
   - –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∞—Ä—Ö–∏–≤–∞ –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è.
   - –õ–∏—Ü–µ–Ω–∑–∏–∏ –∏ `README` –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è.
   - –í—Å–µ —Ñ–∞–π–ª—ã –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º—É —Å –ø–æ–º–æ—â—å—é `su` (root-–¥–æ—Å—Ç—É–ø –Ω–µ–æ–±—Ö–æ–¥–∏–º).

5. **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ**
   - –ï—Å–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—à–ª–æ —É—Å–ø–µ—à–Ω–æ ‚Äî –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è `reboot`.
   - –ï—Å–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å `RemoteActivity`.
   - –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ ‚Äî –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ `RemoteActivity`.

---

## üß± –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã

- `checkForUpdate()` ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- `fetchVersion(url: String)` ‚Äî –ø–æ–ª—É—á–∞–µ—Ç JSON-–≤–µ—Ä—Å–∏—é (–ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ —É–¥–∞–ª—ë–Ω–Ω–æ)
- `downloadArchive()` ‚Äî —Å–∫–∞—á–∏–≤–∞–µ—Ç –∞—Ä—Ö–∏–≤ —Å GitHub
- `extractAndUpdate(context, zipFile)` ‚Äî —Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç –∞—Ä—Ö–∏–≤ –∏ –∫–æ–ø–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã –≤ —Å–∏—Å—Ç–µ–º—É

---

## ‚ö†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å **root-–¥–æ—Å—Ç—É–ø–æ–º**
- –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–¥–æ—Å—Ç—É–ø –∫ GitHub
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞—Ä—Ö–∏–≤–∞ —Å –ø—Ä–æ—à–∏–≤–∫–æ–π
